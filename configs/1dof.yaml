# configs/1dof.yaml
# 1DOF VAE interpretability experiment (NO CNN).
# Purpose: understand reconstruction behaviour and latent structure on:
#  - seen families: normal, drifted, noisy
#  - unseen variants: amp_shifted, freq_shifted, noise_heavy, drift_heavy

project:
  seed: 7

paths:
  experiment_dir: experiments/1dof
  datasets_dir: experiments/1dof/datasets
  outputs_dir: experiments/1dof/outputs

data:
  windowing:
    window: 256
    stride: 64
  splits:
    train_ratio: 0.4
    val_ratio: 0.3
    test_ratio: 0.3

simulation_1dof:
  m: 1.0
  c: 0.02
  k: 25.0
  dt: 0.01
  t_total: 30.0
  forcing:
    type: sine
    amplitude: 1.0
    frequency_hz: 1.0

seen_generation:
  # number of independent runs per family
  runs:
    normal: 40
    drifted: 20
    noisy: 20
  # perturbation magnitudes used in seen families
  drift_slope: 1.0e-4
  noise_sigma: 2.0e-4

unseen_generation:
  runs_per_variant: 15
  variants:
    - amp_shifted
    - freq_shifted
    - noise_heavy
    - drift_heavy
  # unseen perturbation magnitudes
  amp_factor: 1.5
  freq_factor: 1.4
  drift_slope: 5.0e-4
  noise_sigma: 6.0e-4

normalization:
  method: standard
  clip: 10.0

vae:
  latent_dim: 3
  hidden_dim: 64
  num_layers: 2
  dropout: 0.2
  kl_anneal:
    enabled: true
    warmup_ratio: 0.30

training:
  batch_size: 256
  epochs: 80
  lr: 5.0e-4
  grad_clip_norm: 2.0

cnn:
  enabled: false

evaluation:
  recon_error: mse
  latent_projection: pca
  export_formats: [pdf, svg]
